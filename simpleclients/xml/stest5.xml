<?xml version="1.0" ?>
<definition>
  <group name="entry1" type="NXentry">
    <group name="instrument" type="NXinstrument">
      <group name="source" type="NXsource">
        <field name="emittance_x" type="NX_FLOAT" units="nm rad">
          <strategy mode="STEP"/>
          <datasource name="emittance_x" type="CLIENT">
            <record name="emittance_x"/>
          </datasource>
        </field>
        <field name="y_pixel_size" type="NX_FLOAT">
          <strategy mode="STEP"/>
          <datasource name="p09/motor/exp.01" type="TANGO">
            <device hostname="haso228k.desy.de" member="attribute" name="p09/motor/exp.01" port="10000"/>
            <record name="Position"/>
          </datasource>
        </field>

        <field name="emittance_x_perf" type="NX_FLOAT" units="nm rad">
          <strategy mode="STEP"/>
          <datasource name="emittance_x" type="PYEVAL">
            <datasource name="em" type="CLIENT">
              <record name="emittance_x"/>
            </datasource>
            <datasource name="mo" type="TANGO">
              <device hostname="haso228k.desy.de" member="attribute" name="p09/motor/exp.01" port="10000"/>
              <record name="Position"/>
            </datasource>
	    <result name="res">
import math
if ds.em &gt; 0.3:
    ds.res = ds.em + 1	      
else:
    ds.res = ds.em +ds.mo
	    </result>
          </datasource>
        </field>

      </group>
    </group>
  </group>
</definition>
